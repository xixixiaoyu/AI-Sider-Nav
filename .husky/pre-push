#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œæ¨é€å‰æ£€æŸ¥..."

# è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥
echo "ğŸ“ æ£€æŸ¥ TypeScript ç±»å‹..."
npx vue-tsc --noEmit
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript ç±»å‹æ£€æŸ¥å¤±è´¥"
    exit 1
fi

# è¿è¡Œå®Œæ•´çš„ ESLint æ£€æŸ¥
echo "ğŸ”§ è¿è¡Œ ESLint æ£€æŸ¥..."
npm run lint
if [ $? -ne 0 ]; then
    echo "âŒ ESLint æ£€æŸ¥å¤±è´¥"
    exit 1
fi

# è¿è¡Œæ„å»ºæ£€æŸ¥
echo "ğŸ—ï¸ è¿è¡Œæ„å»ºæ£€æŸ¥..."
npm run build:check
if [ $? -ne 0 ]; then
    echo "âŒ æ„å»ºæ£€æŸ¥å¤±è´¥"
    exit 1
fi

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå¯ä»¥æ¨é€"